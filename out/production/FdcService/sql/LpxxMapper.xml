<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC
        "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.banksoft.admin.dao.LpxxDao">
    <resultMap id="my_lpxx" type="com.banksoft.admin.entity.Lpxx">
        <id column="f_id" property="id"/>
        <result column="f_qy_id" property="qyId"/>
        <result column="f_qy_name" property="qyName"/>
        <result column="f_xxdz" property="xxdz"/>
        <result column="f_zjzmj" property="zjzmj"/>
        <result column="f_rjl" property="rjl"/>
        <result column="f_lplx" property="lplx"/>
        <result column="f_jzxs" property="jzxs"/>
        <result column="f_xyhx" property="xyhx"/>
        <result column="f_hxmj" property="hxmj"/>
        <result column="f_tdsyqh" property="tdsyqh"/>
        <result column="f_gcghxkzh" property="gcghxkzh"/>
        <result column="f_kfjyqh" property="kfjyqh"/>
        <result column="f_sgxkzh" property="sgxkzh"/>
        <result column="f_ysxkzh" property="ysxkzh"/>
        <result column="f_xsjj" property="xsjj"/>
        <result column="f_xxjg" property="xxjg"/>
        <result column="f_xszt" property="xszt"/>
        <result column="f_dlwz" property="dlwz"/>
        <result column="f_kpsj" property="kpsj"/>
        <result column="f_jfsysj" property="jfsysj"/>
        <result column="f_gjlx" property="gjlx"/>
        <result column="f_xsrx" property="xsrx"/>
        <result column="f_description" property="description"/>
        <result column="f_axis_x" property="axisX"/>
        <result column="f_axis_y" property="axisY"/>
        <result column="f_visit_cnt" property="visitCnt"/>
        <result column="f_status" property="status"/>
        <result column="f_create_time" property="createTime"/>
        <result column="f_is_hot" property="isHot"/>
        <result column="f_is_tj" property="isTj"/>
        <result column="f_img" property="img"/>
        <result column="f_area_id" property="areaId"/>
        <result column="f_area_name" property="areaName"/>
        <result column="f_name" property="name"/>
        <result column="f_zbpt" property="zbpt"/>
    </resultMap>

    <insert id="insert" parameterType="com.banksoft.admin.entity.Lpxx">
        insert into t_lpxx(f_id,f_name,f_qy_id,f_qy_name,f_xxdz,f_zjzmj,f_rjl,f_lplx,f_jzxs,f_xyhx,f_hxmj,f_tdsyqh,f_gcghxkzh,f_kfjyqh,f_sgxkzh,f_ysxkzh,f_xsjj,f_xxjg,f_xszt,f_dlwz,f_kpsj,f_jfsysj,f_gjlx,f_xsrx,f_description,f_axis_x,f_axis_y,f_visit_cnt,f_status,f_create_time,f_is_hot,f_img,f_area_id,f_area_name,f_zbpt,f_is_tj)
        values(#{id},#{name},#{qyId},#{qyName},#{xxdz},#{zjzmj},#{rjl},#{lplx},#{jzxs},#{xyhx},#{hxmj},#{tdsyqh},#{gcghxkzh},#{kfjyqh},#{sgxkzh},#{ysxkzh},#{xsjj},#{xxjg},#{xszt},#{dlwz},#{kpsj},#{jfsysj},#{gjlx},#{xsrx},#{description},#{axisX},#{axisY},#{visitCnt},#{status},#{createTime},#{isHot},#{img},#{areaId},#{areaName},#{zbpt},#{isTj})
    </insert>

    <update id="update" parameterType="com.banksoft.admin.entity.Lpxx">
        update t_lpxx
        <set>
            <if test="name!=null and name!=''">
                f_name = #{name},
            </if>
            <if test="areaId!=null and areaId!=''">
                f_area_id = #{areaId},
            </if>
            <if test="areaName!=null and areaName!=''">
                f_area_name = #{areaName},
            </if>
            <if test="qyId!=null and qyId!=''">
                f_qy_id = #{qyId},
            </if>
            <if test="qyName!=null and qyName!=''">
                f_qy_name = #{qyName},
            </if>
            <if test="xxdz!=null and xxdz!=''">
                f_xxdz = #{xxdz},
            </if>
            <if test="zjzmj!=null and zjzmj!=''">
                f_zjzmj = #{zjzmj},
            </if>
            <if test="rjl!=null and rjl!=''">
                f_rjl = #{rjl},
            </if>
            <if test="lplx!=null and lplx!=''">
                f_lplx = #{lplx},
            </if>
            <if test="jzxs!=null and jzxs!=''">
                f_jzxs = #{jzxs},
            </if>
            <if test="xyhx!=null and xyhx!=''">
                f_xyhx = #{xyhx},
            </if>
            <if test="hxmj!=null and hxmj!=''">
                f_hxmj = #{hxmj},
            </if>
            <if test="tdsyqh!=null and tdsyqh!=''">
                f_tdsyqh = #{tdsyqh},
            </if>
            <if test="gcghxkzh!=null and gcghxkzh!=''">
                f_gcghxkzh = #{gcghxkzh},
            </if>
            <if test="kfjyqh!=null and kfjyqh!=''">
                f_kfjyqh = #{kfjyqh},
            </if>
            <if test="sgxkzh!=null and sgxkzh!=''">
                f_sgxkzh = #{sgxkzh},
            </if>
            <if test="ysxkzh!=null and ysxkzh!=''">
                f_ysxkzh = #{ysxkzh},
            </if>
            <if test="xsjj!=null and xsjj!=''">
                f_xsjj = #{xsjj},
            </if>
            <if test="xxjg!=null and xxjg!=''">
                f_xxjg = #{xxjg},
            </if>
            <if test="xszt!=null and xszt!=''">
                f_xszt = #{xszt},
            </if>
            <if test="dlwz!=null and dlwz!=''">
                f_dlwz = #{dlwz},
            </if>
            <if test="kpsj!=null and kpsj!=''">
                f_kpsj = #{kpsj},
            </if>
            <if test="jfsysj!=null and jfsysj!=''">
                f_jfsysj = #{jfsysj},
            </if>
            <if test="gjlx!=null and gjlx!=''">
                f_gjlx = #{gjlx},
            </if>
            <if test="xsrx!=null and xsrx!=''">
                f_xsrx = #{xsrx},
            </if>
            <if test="description!=null and description!=''">
                f_description = #{description},
            </if>
            <if test="axisX!=null and axisX!=''">
                f_axis_x = #{axisX},
            </if>
            <if test="axisY!=null and axisY!=''">
                f_axis_y = #{axisY},
            </if>
            <if test="visitCnt!=null and visitCnt!=''">
                f_visit_cnt = #{visitCnt},
            </if>
            <if test="status!=null and status!=''">
                f_status = #{status},
            </if>
            <if test="isHot!=null and isHot!=''">
                f_is_hot = #{isHot},
            </if>
            <if test="isTj!=null and isTj!=''">
                f_is_tj = #{isTj},
            </if>
            <if test="img!=null and img!=''">
                f_img = #{img},
            </if>
            <if test="zbpt!=null and zbpt!=''">
                f_zbpt = #{zbpt},
            </if>
        </set>
        where f_id=#{id}
    </update>

    <select id="findById" resultMap="my_lpxx">
        select * from t_lpxx where f_id=#{id}
    </select>

    <select id="list" resultMap="my_lpxx">
        select * from t_lpxx where f_status='NORMAL'order by f_create_time desc limit #{index},#{size}
    </select>

    <select id="searchByPage" parameterType="HashMap" resultMap="my_lpxx">
        select *
        from t_lpxx
        where 1=1
        <if test="name!=null and name!=''">
            and f_name like CONCAT("%",#{name},"%")
        </if>
        <if test="qyName!=null and qyName!=''">
            and f_qy_name like CONCAT("%",#{qyName},"%")
        </if>
        <if test="status!=null and status!=''">
            and f_status = #{status}
        </if>
        <if test="lplx!=null and lplx!=''">
            and f_lplx like CONCAT("%",#{lplx},",%")
        </if>
        <if test="jzxs!=null and jzxs!=''">
            and f_jzxs like CONCAT("%",#{jzxs},",%")
        </if>
        <if test="areaId!=null and areaId!=''">
            and f_area_id = #{areaId}
        </if>
        order by f_create_time DESC
        limit #{start},#{limit}
    </select>

    <select id="count4Page" parameterType="HashMap" resultType="Integer">
        select count(f_id)
        from t_lpxx
        where 1=1
        <if test="name!=null and name!=''">
            and f_name like CONCAT("%",#{name},"%")
        </if>
        <if test="qyName!=null and qyName!=''">
            and f_qy_name like CONCAT("%",#{qyName},"%")
        </if>
        <if test="status!=null and status!=''">
            and f_status = #{status}
        </if>
        <if test="lplx!=null and lplx!=''">
            and f_lplx like CONCAT("%",#{lplx},",%")
        </if>
        <if test="jzxs!=null and jzxs!=''">
            and f_jzxs like CONCAT("%",#{jzxs},",%")
        </if>
        <if test="areaId!=null and areaId!=''">
            and f_area_id = #{areaId}
        </if>
    </select>

    <select id="findAll" parameterType="HashMap" resultMap="my_lpxx">
        select * from t_lpxx where f_status = 'NORMAL'  order by f_create_time DESC
    </select>


    <delete id="delete" parameterType="HashMap">
        delete from t_lpxx where f_id IN
        <foreach collection="array" item="id" index="index" open="(" close=")" separator=",">#{id}</foreach>
    </delete>



    <select id="frontList" parameterType="HashMap" resultMap="my_lpxx">
        select *
        from t_lpxx
        where 1=1
        <if test="name!=null and name!=''">
            and f_name like CONCAT("%",#{name},"%")
        </if>
        <if test="qyName!=null and qyName!=''">
            and f_qy_name like CONCAT("%",#{qyName},"%")
        </if>
        <if test="xszt!=null and xszt!=''">
            and f_xszt = #{xszt}
        </if>
        <if test="lplx!=null and lplx!=''">
            and f_lplx like CONCAT("%",#{lplx},",%")
        </if>
        <if test="lpjw!=null and lpjw==1">
            <![CDATA[
            and  f_xxjg <= 2000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==2">
            <![CDATA[
            and  f_xxjg > 2000 and f_xxjg<= 3000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==3">
            <![CDATA[
           and  f_xxjg > 3000 and f_xxjg<= 4000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==4">
            <![CDATA[
             and  f_xxjg > 4000 and f_xxjg<= 5000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==5">
            <![CDATA[
             and  f_xxjg > 5000 and f_xxjg<= 6000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==6">
            <![CDATA[
           and  f_xxjg > 6000 and f_xxjg<= 74000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==7">
            <![CDATA[
            and  f_xxjg > 7000
            ]]>
        </if>
        <if test="jzxs!=null and jzxs!=''">
            and f_jzxs like CONCAT("%",#{jzxs},",%")
        </if>
        <if test="dlwz!=null and dlwz!=''">
            f_dlwz = #{dlwz}
        </if>
        <if test="xyhx!=null and xyhx!=''">
            and f_xyhx like CONCAT("%",#{xyhx},",%")
        </if>
        <if test="areaId!=null and areaId!=''">
            and f_area_id = #{areaId}
        </if>
        <if test="gjlx!=null and gjlx!=''">
            and f_gjlx like CONCAT("%",#{gjlx},",%")
        </if>
        <if test="isHot!=null and isHot!=''">
            and f_is_hot = #{isHot}
        </if>
        <if test="isTj!=null and isTj!=''">
            and f_is_tj = #{isTj}
        </if>
        order by f_create_time DESC
        limit #{start},#{size}
    </select>

    <select id="countList" parameterType="HashMap" resultType="Integer">
        select count(f_id)
        from t_lpxx
        where 1=1
        <if test="name!=null and name!=''">
            and f_name like CONCAT("%",#{name},"%")
        </if>
        <if test="qyName!=null and qyName!=''">
            and f_qy_name like CONCAT("%",#{qyName},"%")
        </if>
        <if test="lpjw!=null and lpjw==1">
            <![CDATA[
            and  f_xxjg <= 2000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==2">
            <![CDATA[
            and  f_xxjg > 2000 and f_xxjg<= 3000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==3">
            <![CDATA[
           and  f_xxjg > 3000 and f_xxjg<= 4000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==4">
            <![CDATA[
             and  f_xxjg > 4000 and f_xxjg<= 5000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==5">
            <![CDATA[
             and  f_xxjg > 5000 and f_xxjg<= 6000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==6">
            <![CDATA[
           and  f_xxjg > 6000 and f_xxjg<= 74000
            ]]>
        </if>
        <if test="lpjw!=null and lpjw==7">
            <![CDATA[
            and  f_xxjg > 7000
            ]]>
        </if>
        <if test="xszt!=null and xszt!=''">
            and f_xszt = #{xszt}
        </if>
        <if test="dlwz!=null and dlwz!=''">
            f_dlwz = #{dlwz}
        </if>
        <if test="lplx!=null and lplx!=''">
            and f_lplx like CONCAT("%",#{lplx},",%")
        </if>
        <if test="jzxs!=null and jzxs!=''">
            and f_jzxs like CONCAT("%",#{jzxs},",%")
        </if>
        <if test="xyhx!=null and xyhx!=''">
            and f_xyhx like CONCAT("%",#{xyhx},",%")
        </if>
        <if test="areaId!=null and areaId!=''">
            and f_area_id = #{areaId}
        </if>
        <if test="gjlx!=null and gjlx!=''">
            and f_gjlx like CONCAT("%",#{gjlx},",%")
        </if>
        <if test="isHot!=null and isHot!=''">
            and f_is_hot = #{isHot}
        </if>
        <if test="isTj!=null and isTj!=''">
            and f_is_tj = #{isTj}
        </if>
    </select>

    <select id="listByAreaId" parameterType="HashMap" resultMap="my_lpxx">
        select *
        from t_lpxx
        where f_status='NORMAL'
        <if test="areaId!=null and areaId!=''">
            and f_area_id = #{areaId}
        </if>
    </select>
</mapper>